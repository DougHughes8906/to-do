!function(e){var t={};function d(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=t,d.d=function(e,t,l){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(d.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)d.d(l,n,function(t){return e[t]}.bind(null,n));return l},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d(d.s=0)}([function(e,t,d){"use strict";d.r(t);var l=()=>{let e=document.body,t=document.createElement("H1");t.appendChild(document.createTextNode("Task Manager")),e.appendChild(t);let d=document.createElement("div");d.classList.add("Nav");let l=document.createElement("div");d.appendChild(l);let n=document.createElement("div");n.appendChild(document.createTextNode("Home")),n.id="NavHome",d.appendChild(n);let i=document.createElement("div");i.appendChild(document.createTextNode("Projects")),i.id="NavProjects",d.appendChild(i);let o=document.createElement("div");o.appendChild(document.createTextNode("New Project")),o.id="NavNewProject",o.classList.add("openAddProject"),d.appendChild(o);let a=document.createElement("div");d.appendChild(a),e.appendChild(d);let c=document.createElement("div");c.classList.add("modal");let r=document.createElement("div");r.classList.add("modal-content");let m=document.createElement("div"),s=document.createElement("span");s.appendChild(document.createTextNode("Item Title: ")),m.appendChild(s);let p=document.createElement("input");p.type="text",p.id="itemTitleInput",m.appendChild(p);let u=document.createElement("div");u.appendChild(document.createTextNode("Description:"));let g=document.createElement("textArea");g.id="itemDescription",m.appendChild(u),m.appendChild(g);let h=document.createElement("div");h.appendChild(document.createTextNode("Due Date: "));let C=document.createElement("input");C.type="datetime-local",C.id="dueDateInput",m.appendChild(h),m.appendChild(C);let I=document.createElement("div");I.appendChild(document.createTextNode("Set Priority: "));let v=document.createElement("select");v.id="priorityInput";let f=document.createElement("option");f.value="",f.appendChild(document.createTextNode("")),v.appendChild(f);let y=document.createElement("option");y.value="Low",y.id="lowOption",y.appendChild(document.createTextNode("Low")),v.appendChild(y);let E=document.createElement("option");E.value="Medium",E.id="mediumOption",E.appendChild(document.createTextNode("Medium")),v.appendChild(E);let T=document.createElement("option");T.value="High",T.id="highOption",T.appendChild(document.createTextNode("High")),v.appendChild(T),I.appendChild(v),m.appendChild(I);let x=document.createElement("div");x.appendChild(document.createTextNode("Add Item")),x.id="addItem",m.appendChild(x),r.appendChild(m),c.appendChild(r),e.appendChild(c);let j=document.createElement("div");j.classList.add("Content"),e.appendChild(j)};var n=e=>{let t="New item",d="",l="",n="",i=0,o=!1,a=e;return{changeTitle:e=>{t=e},changeDesc:e=>{d=e},changeDueDate:e=>{l=e},changePriority:e=>{n=e,i=""===n?0:"Low"===n?1:"Medium"===n?2:3},setComplete:()=>{o=!0},setIncomplete:()=>{o=!1},getTitle:()=>t,getDescription:()=>d,getDueDate:()=>l,getPriority:()=>n,getPriorityVal:()=>i,isComplete:()=>o,getOrder:()=>a}};var i=()=>{let e=[],t=!1,d=0,l="New Project",i=0,o="creationOrder",a=!1;return{addItem:()=>{e.push(n(i)),i++},removeItem:t=>{t<0||t>=e.length?console.log(`Index ${t} is not a valid index of the item list`):(e.splice(t,1),d--)},completeItem:l=>{l<0||l>=e.length?console.log(`Index ${l} is not a valid index of the item list`):e[l].isComplete()||(e[l].setComplete(),d++,d===e.length&&(t=!0))},incompleteItem:l=>{l<0||l>=e.length?console.log(`Index ${l} is not a valid index of the item list`):e[l].isComplete()&&(e[l].setIncomplete(),d--,t&&(t=!1))},isComplete:()=>t,sortBy:(t,d)=>{"title"===t?e.sort((function(e,t){let d=e.getTitle(),l=t.getTitle();return d<l?-1:d>l?1:0})):"due date"===t?e.sort((function(e,t){let d=e.getDueDate(),l=t.getDueDate();return d<l?-1:d>l?1:0})):"priority"===t?e.sort((function(e,t){let l=e.getPriorityVal(),n=t.getPriorityVal();return d&&(l*=-1,n*=-1),l<n?1:l>n?-1:0})):e.sort((function(e,t){let d=e.getOrder(),l=t.getOrder();return d<l?-1:d>l?1:0})),o=t,a=d},filterByComplete:()=>e.filter(e=>e.isComplete()),filterByIncomplete:()=>e.filter(e=>!e.isComplete()),getTitle:()=>l,changeTitle:e=>{l=e},getItem:t=>{if(!(t<0||t>=e.length))return e[t];console.log(`Index ${t} is not a valid index of the item list`)},getNumItems:()=>e.length,isSorted:(e,t)=>o===e&&a===t,removeAllComplete:()=>{e=e.filter(e=>!e.isComplete()),d=0},hasComplete:()=>d>0}};var o=()=>{let e=[],t=-1,d=-1,l=-1,n=!1,o=!1,a=!1;const c=()=>{if(-1!==d)return e[d]};return{addProject:()=>(e.push(i()),1===e.length&&(t=0,d=0),e[e.length-1]),removeProject:t=>{t<0||t>=e.length?console.log(`Index ${t} is not a valid index of the project list`):e.splice(t,1)},getHomeIndex:()=>t,setHomeIndex:d=>{d<0||d>=e.length?console.log(`Index ${d} is not a valid index of the project list`):t=d},getProject:t=>{if(!(t<0||t>=e.length))return e[t];console.log(`Index ${t} is not a valid index of the project list`)},selectProject:t=>{t<0||t>=e.length?console.log(`Index ${t} is not a valid index of the project list`):d=t},getSelection:c,selectItem:e=>{-1===d?console.log("No project currently selected"):l=e},getItemSelection:()=>c().getItem(l),setAddItem:()=>{n=!n},getAddItem:()=>n,setUpdateItem:()=>{o=!o},getUpdateItem:()=>o,projTitleActive:()=>a,setProjTitleActive:()=>{a=!a},getNumProjects:()=>e.length,removeItem:t=>{e[d].removeItem(t)}}};var a=e=>{let t=document.getElementsByClassName("Content")[0];for(;t.firstChild;)t.removeChild(t.lastChild);let d=document.createElement("h2");if(d.appendChild(document.createTextNode(e.getTitle())),d.id="projTitle",t.appendChild(d),e.getNumItems()>=2){let d=document.createElement("div");d.id="sortDiv";let l=document.createElement("span");l.appendChild(document.createTextNode("Sort by priority: ")),d.appendChild(l);let n=document.createElement("span");n.innerHTML="Highest &#8593;",n.classList.add("sortBtn"),e.isSorted("priority",!1)?n.classList.add("sortBtnOn"):n.classList.add("sortBtnOff"),n.id="sortUp",d.appendChild(n);let i=document.createElement("span");i.innerHTML="Highest &#8595;",i.classList.add("sortBtn"),e.isSorted("priority",!0)?i.classList.add("sortBtnOn"):i.classList.add("sortBtnOff"),i.id="sortDown",d.appendChild(i),t.appendChild(d)}let l=document.createElement("div"),n=e.getNumItems();for(let t=0;t<n;t++){let d=e.getItem(t),n=document.createElement("div");n.classList.add("itemContainer");let i=document.createElement("label");i.classList.add("checkContainer");let o=document.createElement("input");o.setAttribute("type","checkbox"),o.classList.add("itemCheck"),o.id="check"+t,d.isComplete()&&(o.checked=!0),i.appendChild(o);let a=document.createElement("span");a.classList.add("checkmark"),i.appendChild(a),n.appendChild(i);let c=null;if(c=d.isComplete()?document.createElement("strike"):document.createElement("div"),c.appendChild(document.createTextNode(d.getTitle())),c.id="item"+t,c.classList.add("itemTitle"),""===d.getTitle().trim()&&c.classList.add("blankTitle"),""!==d.getPriority()&&c.classList.add(d.getPriority()),n.appendChild(c),d.isComplete()){let e=document.createElement("span");e.appendChild(document.createTextNode("X")),e.classList.add("delete"),e.id="delete"+t,n.appendChild(e)}l.appendChild(n)}let i=document.createElement("div");if(i.appendChild(document.createTextNode("+ Add Item")),i.classList.add("openAddItem"),l.appendChild(i),l.classList.add("itemsDiv"),t.appendChild(l),e.hasComplete()){t.appendChild(document.createElement("br"));let e=document.createElement("div");e.id="removeAllComplete",e.appendChild(document.createTextNode("Remove all completed")),t.appendChild(e)}};var c=e=>{let t=document.getElementsByClassName("Content")[0];for(;t.firstChild;)t.removeChild(t.lastChild);let d=document.createElement("h2");d.appendChild(document.createTextNode("Projects")),d.id="projListTitle",t.appendChild(d);let l=document.createElement("div");l.id="projectContainer";let n=e.getNumProjects();for(let t=0;t<n;t++){let d=e.getProject(t),n=document.createElement("div");n.classList.add("projectLine");let i=document.createElement("div");i.appendChild(document.createTextNode(d.getTitle())),i.id="project"+t,i.classList.add("projTitle"),n.appendChild(i),l.appendChild(n)}let i=document.createElement("div");i.appendChild(document.createTextNode("+ Add Project")),i.classList.add("openAddProject"),l.appendChild(i),t.appendChild(l)};const r=e=>{document.getElementsByClassName("modal")[0].style.display="block";let t=document.getElementById("itemTitleInput"),d=document.getElementById("addItem"),l=document.getElementById("itemDescription"),n=document.getElementById("dueDateInput"),i=document.getElementById("priorityInput");if(void 0!==e){t.value=e.getTitle(),l.value=e.getDescription(),n.value=e.getDueDate(),d.textContent="Update Item";let o=i.options,a=-1,c=0;for(;-1===a&&c<o.length;)o[c].value===e.getPriority()&&(a=c),c++;i.selectedIndex=a}else d.textContent="Add Item";t.focus()},m=()=>{document.getElementsByClassName("modal")[0].style.display="none"};var s=e=>{let t=document.getElementById("itemTitleInput");e.changeTitle(t.value);let d=document.getElementById("itemDescription");e.changeDesc(d.value);let l=document.getElementById("dueDateInput");e.changeDueDate(l.value);let n=document.getElementById("priorityInput");e.changePriority(n.value)};var p=()=>{document.getElementById("itemTitleInput").value="",document.getElementById("itemDescription").value="",document.getElementById("dueDateInput").value="",document.getElementById("priorityInput").selectedIndex=0};const u=e=>{s(e),p(),m()},g=e=>{let t=e.getSelection();t.addItem(),u(t.getItem(t.getNumItems()-1))};var h=e=>{let t=e.getSelection(),d=document.getElementById("projTitleInput").value;""!==d.trim()&&t.changeTitle(d),a(t),e.setProjTitleActive()};var C=e=>{document.addEventListener("click",(function(t){if(e.projTitleActive()&&!t.target.matches("#projTitleInput")&&h(e),t.target.matches(".openAddItem")&&(e.setAddItem(),r()),t.target.matches(".itemCheck")){let d=t.target.id;d=parseInt(d.slice(5));let l=e.getSelection();t.target.checked?l.completeItem(d):l.incompleteItem(d),a(e.getSelection())}if(t.target.matches(".delete")){let d=t.target.id;d=parseInt(d.slice(6)),e.removeItem(d),a(e.getSelection())}if(t.target.matches(".itemTitle")){let d=t.target.id;d=parseInt(d.slice(4)),e.selectItem(d),e.setUpdateItem(),r(e.getItemSelection())}if(t.target.matches("#addItem"))if(e.getAddItem())g(e),e.setAddItem(),a(e.getSelection());else{let t=e.getItemSelection();u(t),e.setUpdateItem(),a(e.getSelection())}if((t.target.matches(".modal")||t.target.matches(".closeItemModal"))&&(p(),e.getAddItem()?e.setAddItem():e.setUpdateItem(),m()),t.target.matches("#projTitle")){let d=t.target.textContent;"New Project"===d&&(d="");let l=document.getElementsByClassName("Content")[0];l.removeChild(t.target);let n=document.createElement("input");n.type="text",n.id="projTitleInput",n.value=d;let i=document.getElementById("sortDiv"),o=document.getElementsByClassName("itemsDiv")[0],a=document.getElementById("removeAllComplete");for(;l.firstChild;)l.removeChild(l.lastChild);l.appendChild(n),null!==i&&l.appendChild(i),l.appendChild(o),null!==a&&(l.appendChild(document.createElement("br")),l.appendChild(a)),n.focus(),e.setProjTitleActive()}if(t.target.matches(".projTitle")){let d=parseInt(t.target.id.slice(7));e.selectProject(d),a(e.getSelection())}if(t.target.matches(".openAddProject")){let t=e.addProject();e.selectProject(e.getNumProjects()-1),a(t)}if(t.target.matches("#NavProjects")&&c(e),t.target.matches("#NavHome")){e.selectProject(e.getHomeIndex());let t=e.getSelection();a(t)}t.target.matches("#sortUp")&&("sortBtnOff"===t.target.classList[1]?e.getSelection().sortBy("priority",!1):e.getSelection().sortBy("creationOrder"),a(e.getSelection())),t.target.matches("#sortDown")&&("sortBtnOff"===t.target.classList[1]?e.getSelection().sortBy("priority",!0):e.getSelection().sortBy("creationOrder"),a(e.getSelection())),t.target.matches("#removeAllComplete")&&(e.getSelection().removeAllComplete(),a(e.getSelection()))}),!1),document.addEventListener("keypress",(function(t){if("Enter"===t.key)if(e.getAddItem())g(e),e.setAddItem(),a(e.getSelection());else if(e.getUpdateItem()){let t=e.getItemSelection();u(t),e.setUpdateItem(),a(e.getSelection())}else e.projTitleActive()&&h(e)}),!1)};let I=(()=>JSON.parse(localStorage.getItem("userData")))();null===I&&(I=o(),I.addProject()),l();let v=I.getProject(I.getHomeIndex());a(v),C(I)}]);