!function(e){var t={};function d(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=t,d.d=function(e,t,l){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(d.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)d.d(l,n,function(t){return e[t]}.bind(null,n));return l},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d(d.s=0)}([function(e,t,d){"use strict";d.r(t);var l=()=>{let e=document.body,t=document.createElement("H1");t.appendChild(document.createTextNode("Task Manager")),e.appendChild(t);let d=document.createElement("div");d.classList.add("Nav");let l=document.createElement("div");d.appendChild(l);let n=document.createElement("div");n.appendChild(document.createTextNode("Home")),n.id="NavHome",d.appendChild(n);let o=document.createElement("div");o.appendChild(document.createTextNode("Projects")),o.id="NavProjects",d.appendChild(o);let i=document.createElement("div");i.appendChild(document.createTextNode("New Project")),i.id="NavNewProject",i.classList.add("openAddProject"),d.appendChild(i);let a=document.createElement("div");d.appendChild(a),e.appendChild(d);let r=document.createElement("div");r.classList.add("modal");let c=document.createElement("div");c.classList.add("modal-content");let m=document.createElement("div"),s=document.createElement("span");s.appendChild(document.createTextNode("Item Title: ")),m.appendChild(s);let p=document.createElement("input");p.type="text",p.id="itemTitleInput",m.appendChild(p);let u=document.createElement("div");u.appendChild(document.createTextNode("Description:"));let g=document.createElement("textArea");g.id="itemDescription",m.appendChild(u),m.appendChild(g);let h=document.createElement("div");h.appendChild(document.createTextNode("Due Date: "));let C=document.createElement("input");C.type="datetime-local",C.id="dueDateInput",m.appendChild(h),m.appendChild(C);let I=document.createElement("div");I.appendChild(document.createTextNode("Set Priority: "));let v=document.createElement("select");v.id="priorityInput";let f=document.createElement("option");f.value="",f.appendChild(document.createTextNode("")),v.appendChild(f);let y=document.createElement("option");y.value="Low",y.id="lowOption",y.appendChild(document.createTextNode("Low")),v.appendChild(y);let T=document.createElement("option");T.value="Medium",T.id="mediumOption",T.appendChild(document.createTextNode("Medium")),v.appendChild(T);let E=document.createElement("option");E.value="High",E.id="highOption",E.appendChild(document.createTextNode("High")),v.appendChild(E),I.appendChild(v),m.appendChild(I);let x=document.createElement("div");x.appendChild(document.createTextNode("Add Item")),x.id="addItem",m.appendChild(x),c.appendChild(m),r.appendChild(c),e.appendChild(r);let j=document.createElement("div");j.classList.add("Content"),e.appendChild(j)};var n=e=>{let t="New item",d="",l="",n="",o=0,i=!1,a=e;return{changeTitle:e=>{t=e},changeDesc:e=>{d=e},changeDueDate:e=>{l=e},changePriority:e=>{n=e,o=""===n?0:"Low"===n?1:"Medium"===n?2:3},setComplete:()=>{i=!0},setIncomplete:()=>{i=!1},getTitle:()=>t,getDescription:()=>d,getDueDate:()=>l,getPriority:()=>n,getPriorityVal:()=>o,isComplete:()=>i,getOrder:()=>a}};var o=()=>{let e=[],t=!1,d=0,l="New Project",o=0,i="creationOrder",a=!1;return{addItem:()=>{e.push(n(o)),o++},removeItem:t=>{t<0||t>=e.length?console.log(`Index ${t} is not a valid index of the item list`):(e.splice(t,1),d--)},completeItem:l=>{l<0||l>=e.length?console.log(`Index ${l} is not a valid index of the item list`):e[l].isComplete()||(e[l].setComplete(),d++,d===e.length&&(t=!0))},incompleteItem:l=>{l<0||l>=e.length?console.log(`Index ${l} is not a valid index of the item list`):e[l].isComplete()&&(e[l].setIncomplete(),d--,t&&(t=!1))},isComplete:()=>t,sortBy:(t,d)=>{"title"===t?e.sort((function(e,t){let d=e.getTitle(),l=t.getTitle();return d<l?-1:d>l?1:0})):"due date"===t?e.sort((function(e,t){let d=e.getDueDate(),l=t.getDueDate();return d<l?-1:d>l?1:0})):"priority"===t?e.sort((function(e,t){let l=e.getPriorityVal(),n=t.getPriorityVal();return d&&(l*=-1,n*=-1),l<n?1:l>n?-1:0})):e.sort((function(e,t){let d=e.getOrder(),l=t.getOrder();return d<l?-1:d>l?1:0})),i=t,a=d},filterByComplete:()=>e.filter(e=>e.isComplete()),filterByIncomplete:()=>e.filter(e=>!e.isComplete()),getTitle:()=>l,changeTitle:e=>{l=e},getItem:t=>{if(!(t<0||t>=e.length))return e[t];console.log(`Index ${t} is not a valid index of the item list`)},getNumItems:()=>e.length,isSorted:(e,t)=>i===e&&a===t,removeAllComplete:()=>{e=e.filter(e=>!e.isComplete()),d=0},hasComplete:()=>d>0,getNumComplete:()=>d,getCreateCount:()=>o,getSortType:()=>i,getSortDirection:()=>a}};var i=()=>{let e=[],t=-1,d=-1,l=-1,n=!1,i=!1,a=!1;const r=()=>{if(-1!==d)return e[d]};return{addProject:()=>(e.push(o()),1===e.length&&(t=0,d=0),e[e.length-1]),removeProject:t=>{t<0||t>=e.length?console.log(`Index ${t} is not a valid index of the project list`):e.splice(t,1)},getHomeIndex:()=>t,setHomeIndex:d=>{d<0||d>=e.length?console.log(`Index ${d} is not a valid index of the project list`):t=d},getProject:t=>{if(!(t<0||t>=e.length))return e[t];console.log(`Index ${t} is not a valid index of the project list`)},selectProject:t=>{t<0||t>=e.length?console.log(`Index ${t} is not a valid index of the project list`):d=t},getSelection:r,selectItem:e=>{-1===d?console.log("No project currently selected"):l=e},getItemSelection:()=>r().getItem(l),setAddItem:()=>{n=!n},getAddItem:()=>n,setUpdateItem:()=>{i=!i},getUpdateItem:()=>i,projTitleActive:()=>a,setProjTitleActive:()=>{a=!a},getNumProjects:()=>e.length,removeItem:t=>{e[d].removeItem(t)},getSelectIndex:()=>d,getItemIndex:()=>l}};var a=e=>{let t=document.getElementsByClassName("Content")[0];for(;t.firstChild;)t.removeChild(t.lastChild);let d=document.createElement("h2");if(d.appendChild(document.createTextNode(e.getTitle())),d.id="projTitle",t.appendChild(d),e.getNumItems()>=2){let d=document.createElement("div");d.id="sortDiv";let l=document.createElement("span");l.appendChild(document.createTextNode("Sort by priority: ")),d.appendChild(l);let n=document.createElement("span");n.innerHTML="Highest &#8593;",n.classList.add("sortBtn"),e.isSorted("priority",!1)?n.classList.add("sortBtnOn"):n.classList.add("sortBtnOff"),n.id="sortUp",d.appendChild(n);let o=document.createElement("span");o.innerHTML="Highest &#8595;",o.classList.add("sortBtn"),e.isSorted("priority",!0)?o.classList.add("sortBtnOn"):o.classList.add("sortBtnOff"),o.id="sortDown",d.appendChild(o),t.appendChild(d)}let l=document.createElement("div"),n=e.getNumItems();for(let t=0;t<n;t++){let d=e.getItem(t),n=document.createElement("div");n.classList.add("itemContainer");let o=document.createElement("label");o.classList.add("checkContainer");let i=document.createElement("input");i.setAttribute("type","checkbox"),i.classList.add("itemCheck"),i.id="check"+t,d.isComplete()&&(i.checked=!0),o.appendChild(i);let a=document.createElement("span");a.classList.add("checkmark"),o.appendChild(a),n.appendChild(o);let r=null;if(r=d.isComplete()?document.createElement("strike"):document.createElement("div"),r.appendChild(document.createTextNode(d.getTitle())),r.id="item"+t,r.classList.add("itemTitle"),""===d.getTitle().trim()&&r.classList.add("blankTitle"),""!==d.getPriority()&&r.classList.add(d.getPriority()),n.appendChild(r),d.isComplete()){let e=document.createElement("span");e.appendChild(document.createTextNode("X")),e.classList.add("delete"),e.id="delete"+t,n.appendChild(e)}l.appendChild(n)}let o=document.createElement("div");if(o.appendChild(document.createTextNode("+ Add Item")),o.classList.add("openAddItem"),l.appendChild(o),l.classList.add("itemsDiv"),t.appendChild(l),e.hasComplete()){t.appendChild(document.createElement("br"));let e=document.createElement("div");e.id="removeAllComplete",e.appendChild(document.createTextNode("Remove all completed")),t.appendChild(e)}};var r=e=>{let t=document.getElementsByClassName("Content")[0];for(;t.firstChild;)t.removeChild(t.lastChild);let d=document.createElement("h2");d.appendChild(document.createTextNode("Projects")),d.id="projListTitle",t.appendChild(d);let l=document.createElement("div");l.id="projectContainer";let n=e.getNumProjects();for(let t=0;t<n;t++){let d=e.getProject(t),n=document.createElement("div");n.classList.add("projectLine");let o=document.createElement("div");o.appendChild(document.createTextNode(d.getTitle())),o.id="project"+t,o.classList.add("projTitle"),n.appendChild(o),l.appendChild(n)}let o=document.createElement("div");o.appendChild(document.createTextNode("+ Add Project")),o.classList.add("openAddProject"),l.appendChild(o),t.appendChild(l)};const c=e=>{document.getElementsByClassName("modal")[0].style.display="block";let t=document.getElementById("itemTitleInput"),d=document.getElementById("addItem"),l=document.getElementById("itemDescription"),n=document.getElementById("dueDateInput"),o=document.getElementById("priorityInput");if(void 0!==e){t.value=e.getTitle(),l.value=e.getDescription(),n.value=e.getDueDate(),d.textContent="Update Item";let i=o.options,a=-1,r=0;for(;-1===a&&r<i.length;)i[r].value===e.getPriority()&&(a=r),r++;o.selectedIndex=a}else d.textContent="Add Item";t.focus()},m=()=>{document.getElementsByClassName("modal")[0].style.display="none"};var s=e=>{let t=document.getElementById("itemTitleInput");e.changeTitle(t.value);let d=document.getElementById("itemDescription");e.changeDesc(d.value);let l=document.getElementById("dueDateInput");e.changeDueDate(l.value);let n=document.getElementById("priorityInput");e.changePriority(n.value)};var p=()=>{document.getElementById("itemTitleInput").value="",document.getElementById("itemDescription").value="",document.getElementById("dueDateInput").value="",document.getElementById("priorityInput").selectedIndex=0};const u=e=>{s(e),p(),m()},g=e=>{let t=e.getSelection();t.addItem(),u(t.getItem(t.getNumItems()-1))};var h=e=>{let t=e.getSelection(),d=document.getElementById("projTitleInput").value;""!==d.trim()&&t.changeTitle(d),a(t),e.setProjTitleActive()};var C=()=>({title:"",description:"",dueDate:"",priority:"",priorityVal:0,complete:!1,order:0});var I=()=>({itemDataList:[],complete:!1,numComplete:0,projectTitle:"",createCount:0,sortType:"",sortDirection:!1});var v=()=>({projectDataList:[],homeIndex:-1,selectedIndex:-1,itemIndex:-1,addItemStatus:!1,updateItemStatus:!1,projTitleStatus:!1});const f=e=>{let t=C();return t.title=e.getTitle(),t.description=e.getDescription(),t.dueDate=e.getDueDate(),t.priority=e.getPriority(),t.complete=e.isComplete(),t.order=e.getOrder(),t},y=e=>{let t=I();for(let d=0;d<e.getNumItems();d++){let l=e.getItem(d);t.itemDataList.push(f(l))}return t.complete=e.isComplete(),t.numComplete=e.getNumComplete(),t.projectTitle=e.getTitle(),t.createCount=e.getCreateCount(),t.sortType=e.getSortType(),t.sortDirection=e.getSortDirection(),t},T=e=>{let t=v();for(let d=0;d<e.getNumProjects();d++){let l=e.getProject(d);t.projectDataList.push(y(l))}return t.homeIndex=e.getHomeIndex(),t.selectedIndex=e.getSelectIndex(),t.itemIndex=e.getItemIndex(),t.addItemStatus=e.getAddItem(),t.updateItemStatus=e.getUpdateItem(),t.projTitleStatus=e.projTitleActive(),t};var E=e=>{console.log("Original content:"),console.log(e),console.log("Converted content:"),console.log(T(e)),console.log("Stringified content:"),console.log(JSON.stringify(T(e))),localStorage.setItem("userData",JSON.stringify(T(e)))};var x=e=>{document.addEventListener("click",(function(t){if(e.projTitleActive()&&!t.target.matches("#projTitleInput")&&h(e),t.target.matches(".openAddItem")&&(e.setAddItem(),c()),t.target.matches(".itemCheck")){let d=t.target.id;d=parseInt(d.slice(5));let l=e.getSelection();t.target.checked?l.completeItem(d):l.incompleteItem(d),a(e.getSelection())}if(t.target.matches(".delete")){let d=t.target.id;d=parseInt(d.slice(6)),e.removeItem(d),a(e.getSelection())}if(t.target.matches(".itemTitle")){let d=t.target.id;d=parseInt(d.slice(4)),e.selectItem(d),e.setUpdateItem(),c(e.getItemSelection())}if(t.target.matches("#addItem"))if(e.getAddItem())g(e),e.setAddItem(),a(e.getSelection());else{let t=e.getItemSelection();u(t),e.setUpdateItem(),a(e.getSelection())}if((t.target.matches(".modal")||t.target.matches(".closeItemModal"))&&(p(),e.getAddItem()?e.setAddItem():e.setUpdateItem(),m()),t.target.matches("#projTitle")){let d=t.target.textContent;"New Project"===d&&(d="");let l=document.getElementsByClassName("Content")[0];l.removeChild(t.target);let n=document.createElement("input");n.type="text",n.id="projTitleInput",n.value=d;let o=document.getElementById("sortDiv"),i=document.getElementsByClassName("itemsDiv")[0],a=document.getElementById("removeAllComplete");for(;l.firstChild;)l.removeChild(l.lastChild);l.appendChild(n),null!==o&&l.appendChild(o),l.appendChild(i),null!==a&&(l.appendChild(document.createElement("br")),l.appendChild(a)),n.focus(),e.setProjTitleActive()}if(t.target.matches(".projTitle")){let d=parseInt(t.target.id.slice(7));e.selectProject(d),a(e.getSelection())}if(t.target.matches(".openAddProject")){let t=e.addProject();e.selectProject(e.getNumProjects()-1),a(t)}if(t.target.matches("#NavProjects")&&r(e),t.target.matches("#NavHome")){e.selectProject(e.getHomeIndex());let t=e.getSelection();a(t)}t.target.matches("#sortUp")&&("sortBtnOff"===t.target.classList[1]?e.getSelection().sortBy("priority",!1):e.getSelection().sortBy("creationOrder"),a(e.getSelection())),t.target.matches("#sortDown")&&("sortBtnOff"===t.target.classList[1]?e.getSelection().sortBy("priority",!0):e.getSelection().sortBy("creationOrder"),a(e.getSelection())),t.target.matches("#removeAllComplete")&&(e.getSelection().removeAllComplete(),a(e.getSelection())),E(e)}),!1),document.addEventListener("keypress",(function(t){if("Enter"===t.key)if(e.getAddItem())g(e),e.setAddItem(),a(e.getSelection());else if(e.getUpdateItem()){let t=e.getItemSelection();u(t),e.setUpdateItem(),a(e.getSelection())}else e.projTitleActive()&&h(e);E(e)}),!1)};let j=null;console.log(j),null===j&&(j=i(),j.addProject()),l();let N=j.getProject(j.getHomeIndex());a(N),x(j)}]);