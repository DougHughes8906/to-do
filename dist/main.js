!function(e){var t={};function d(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=t,d.d=function(e,t,l){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(d.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)d.d(l,n,function(t){return e[t]}.bind(null,n));return l},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d(d.s=0)}([function(e,t,d){"use strict";d.r(t);var l=()=>{let e=document.body,t=document.createElement("H1");t.appendChild(document.createTextNode("Task Manager")),e.appendChild(t);let d=document.createElement("div");d.classList.add("Nav");let l=document.createElement("div");d.appendChild(l);let n=document.createElement("div");n.appendChild(document.createTextNode("Home")),n.id="NavHome",d.appendChild(n);let i=document.createElement("div");i.appendChild(document.createTextNode("Projects")),i.id="NavProjects",d.appendChild(i);let o=document.createElement("div");o.appendChild(document.createTextNode("New Project")),o.id="NavNewProject",o.classList.add("openAddProject"),d.appendChild(o);let r=document.createElement("div");d.appendChild(r),e.appendChild(d);let a=document.createElement("div");a.classList.add("modal");let c=document.createElement("div");c.classList.add("modal-content");let m=document.createElement("div"),s=document.createElement("span");s.appendChild(document.createTextNode("Item Title: ")),m.appendChild(s);let p=document.createElement("input");p.type="text",p.id="itemTitleInput",m.appendChild(p);let u=document.createElement("div");u.appendChild(document.createTextNode("Description:"));let g=document.createElement("textArea");g.id="itemDescription",m.appendChild(u),m.appendChild(g);let h=document.createElement("div");h.appendChild(document.createTextNode("Due Date: "));let C=document.createElement("input");C.type="datetime-local",C.id="dueDateInput",m.appendChild(h),m.appendChild(C);let I=document.createElement("div");I.appendChild(document.createTextNode("Set Priority: "));let v=document.createElement("select");v.id="priorityInput";let f=document.createElement("option");f.value="",f.appendChild(document.createTextNode("")),v.appendChild(f);let y=document.createElement("option");y.value="Low",y.id="lowOption",y.appendChild(document.createTextNode("Low")),v.appendChild(y);let T=document.createElement("option");T.value="Medium",T.id="mediumOption",T.appendChild(document.createTextNode("Medium")),v.appendChild(T);let E=document.createElement("option");E.value="High",E.id="highOption",E.appendChild(document.createTextNode("High")),v.appendChild(E),I.appendChild(v),m.appendChild(I);let x=document.createElement("div");x.appendChild(document.createTextNode("Add Item")),x.id="addItem",m.appendChild(x),c.appendChild(m),a.appendChild(c),e.appendChild(a);let j=document.createElement("div");j.classList.add("Content"),e.appendChild(j)};var n=e=>{let t="New item",d="",l="",n="",i=0,o=!1,r=e;return{changeTitle:e=>{t=e},changeDesc:e=>{d=e},changeDueDate:e=>{l=e},changePriority:e=>{n=e,i=""===n?0:"Low"===n?1:"Medium"===n?2:3},setComplete:()=>{o=!0},setIncomplete:()=>{o=!1},getTitle:()=>t,getDescription:()=>d,getDueDate:()=>l,getPriority:()=>n,getPriorityVal:()=>i,isComplete:()=>o,getOrder:()=>r,setOrder:e=>{r=e}}};var i=()=>{let e=[],t=!1,d=0,l="New Project",i=0,o="creationOrder",r=!1;return{addItem:()=>{e.push(n(i)),i++},addExistingItem:t=>{e.push(t)},removeItem:t=>{t<0||t>=e.length?console.log(`Index ${t} is not a valid index of the item list`):(e.splice(t,1),d--)},completeItem:l=>{l<0||l>=e.length?console.log(`Index ${l} is not a valid index of the item list`):e[l].isComplete()||(e[l].setComplete(),d++,d===e.length&&(t=!0))},incompleteItem:l=>{l<0||l>=e.length?console.log(`Index ${l} is not a valid index of the item list`):e[l].isComplete()&&(e[l].setIncomplete(),d--,t&&(t=!1))},isComplete:()=>t,sortBy:(t,d)=>{"title"===t?e.sort((function(e,t){let d=e.getTitle(),l=t.getTitle();return d<l?-1:d>l?1:0})):"due date"===t?e.sort((function(e,t){let d=e.getDueDate(),l=t.getDueDate();return d<l?-1:d>l?1:0})):"priority"===t?e.sort((function(e,t){let l=e.getPriorityVal(),n=t.getPriorityVal();return d&&(l*=-1,n*=-1),l<n?1:l>n?-1:0})):e.sort((function(e,t){let d=e.getOrder(),l=t.getOrder();return d<l?-1:d>l?1:0})),o=t,r=d},filterByComplete:()=>e.filter(e=>e.isComplete()),filterByIncomplete:()=>e.filter(e=>!e.isComplete()),getTitle:()=>l,changeTitle:e=>{l=e},getItem:t=>{if(!(t<0||t>=e.length))return e[t];console.log(`Index ${t} is not a valid index of the item list`)},getNumItems:()=>e.length,isSorted:(e,t)=>o===e&&r===t,removeAllComplete:()=>{e=e.filter(e=>!e.isComplete()),d=0},hasComplete:()=>d>0,getNumComplete:()=>d,getCreateCount:()=>i,getSortType:()=>o,getSortDirection:()=>r,setComplete:e=>{t=e},setNumComplete:e=>{d=e},setCreateCount:e=>{i=e},setSortType:e=>{o=e},setSortDirection:e=>{r=e}}};var o=()=>{let e=[],t=-1,d=-1,l=-1,n=!1,o=!1,r=!1;const a=()=>{if(-1!==d)return e[d]};return{addProject:()=>(e.push(i()),1===e.length&&(t=0,d=0),e[e.length-1]),removeProject:t=>{t<0||t>=e.length?console.log(`Index ${t} is not a valid index of the project list`):e.splice(t,1)},getHomeIndex:()=>t,setHomeIndex:d=>{d<0||d>=e.length?console.log(`Index ${d} is not a valid index of the project list`):t=d},getProject:t=>{if(!(t<0||t>=e.length))return e[t];console.log(`Index ${t} is not a valid index of the project list`)},selectProject:t=>{t<0||t>=e.length?console.log(`Index ${t} is not a valid index of the project list`):d=t},getSelection:a,selectItem:e=>{-1===d?console.log("No project currently selected"):l=e},getItemSelection:()=>a().getItem(l),setAddItem:()=>{n=!n},getAddItem:()=>n,setUpdateItem:()=>{o=!o},getUpdateItem:()=>o,projTitleActive:()=>r,setProjTitleActive:()=>{r=!r},getNumProjects:()=>e.length,removeItem:t=>{e[d].removeItem(t)},getSelectIndex:()=>d,getItemIndex:()=>l,addExistingProject:t=>{e.push(t)}}};const r=e=>{let t=n();return t.changeTitle(e.title),t.changeDesc(e.description),t.changeDueDate(e.dueDate),t.changePriority(e.priority),e.complete?t.setComplete():t.setIncomplete(),t.setOrder(e.order),t},a=e=>{let t=i();for(let d=0;d<e.itemDataList.length;d++){let l=r(e.itemDataList[d]);t.addExistingItem(l)}return t.setComplete(e.complete),t.setNumComplete(e.numComplete),t.changeTitle(e.projectTitle),t.setCreateCount(e.createCount),t.setSortType(e.sortType),t.setSortDirection(e.sortDirection),t};var c=e=>{let t=document.getElementsByClassName("Content")[0];for(;t.firstChild;)t.removeChild(t.lastChild);let d=document.createElement("h2");if(d.appendChild(document.createTextNode(e.getTitle())),d.id="projTitle",t.appendChild(d),e.getNumItems()>=2){let d=document.createElement("div");d.id="sortDiv";let l=document.createElement("span");l.appendChild(document.createTextNode("Sort by priority: ")),d.appendChild(l);let n=document.createElement("span");n.innerHTML="Highest &#8593;",n.classList.add("sortBtn"),e.isSorted("priority",!1)?n.classList.add("sortBtnOn"):n.classList.add("sortBtnOff"),n.id="sortUp",d.appendChild(n);let i=document.createElement("span");i.innerHTML="Highest &#8595;",i.classList.add("sortBtn"),e.isSorted("priority",!0)?i.classList.add("sortBtnOn"):i.classList.add("sortBtnOff"),i.id="sortDown",d.appendChild(i),t.appendChild(d)}let l=document.createElement("div"),n=e.getNumItems();for(let t=0;t<n;t++){let d=e.getItem(t),n=document.createElement("div");n.classList.add("itemContainer");let i=document.createElement("label");i.classList.add("checkContainer");let o=document.createElement("input");o.setAttribute("type","checkbox"),o.classList.add("itemCheck"),o.id="check"+t,d.isComplete()&&(o.checked=!0),i.appendChild(o);let r=document.createElement("span");r.classList.add("checkmark"),i.appendChild(r),n.appendChild(i);let a=null;if(a=d.isComplete()?document.createElement("strike"):document.createElement("div"),a.appendChild(document.createTextNode(d.getTitle())),a.id="item"+t,a.classList.add("itemTitle"),""===d.getTitle().trim()&&a.classList.add("blankTitle"),""!==d.getPriority()&&a.classList.add(d.getPriority()),n.appendChild(a),d.isComplete()){let e=document.createElement("span");e.appendChild(document.createTextNode("X")),e.classList.add("delete"),e.id="delete"+t,n.appendChild(e)}l.appendChild(n)}let i=document.createElement("div");if(i.appendChild(document.createTextNode("+ Add Item")),i.classList.add("openAddItem"),l.appendChild(i),l.classList.add("itemsDiv"),t.appendChild(l),e.hasComplete()){t.appendChild(document.createElement("br"));let e=document.createElement("div");e.id="removeAllComplete",e.appendChild(document.createTextNode("Remove all completed")),t.appendChild(e)}};var m=e=>{let t=document.getElementsByClassName("Content")[0];for(;t.firstChild;)t.removeChild(t.lastChild);let d=document.createElement("h2");d.appendChild(document.createTextNode("Projects")),d.id="projListTitle",t.appendChild(d);let l=document.createElement("div");l.id="projectContainer";let n=e.getNumProjects();for(let t=0;t<n;t++){let d=e.getProject(t),n=document.createElement("div");n.classList.add("projectLine");let i=document.createElement("div");i.appendChild(document.createTextNode(d.getTitle())),i.id="project"+t,i.classList.add("projTitle"),n.appendChild(i),l.appendChild(n)}let i=document.createElement("div");i.appendChild(document.createTextNode("+ Add Project")),i.classList.add("openAddProject"),l.appendChild(i),t.appendChild(l)};const s=e=>{document.getElementsByClassName("modal")[0].style.display="block";let t=document.getElementById("itemTitleInput"),d=document.getElementById("addItem"),l=document.getElementById("itemDescription"),n=document.getElementById("dueDateInput"),i=document.getElementById("priorityInput");if(void 0!==e){t.value=e.getTitle(),l.value=e.getDescription(),n.value=e.getDueDate(),d.textContent="Update Item";let o=i.options,r=-1,a=0;for(;-1===r&&a<o.length;)o[a].value===e.getPriority()&&(r=a),a++;i.selectedIndex=r}else d.textContent="Add Item";t.focus()},p=()=>{document.getElementsByClassName("modal")[0].style.display="none"};var u=e=>{let t=document.getElementById("itemTitleInput");e.changeTitle(t.value);let d=document.getElementById("itemDescription");e.changeDesc(d.value);let l=document.getElementById("dueDateInput");e.changeDueDate(l.value);let n=document.getElementById("priorityInput");e.changePriority(n.value)};var g=()=>{document.getElementById("itemTitleInput").value="",document.getElementById("itemDescription").value="",document.getElementById("dueDateInput").value="",document.getElementById("priorityInput").selectedIndex=0};const h=e=>{u(e),g(),p()},C=e=>{let t=e.getSelection();t.addItem(),h(t.getItem(t.getNumItems()-1))};var I=e=>{let t=e.getSelection(),d=document.getElementById("projTitleInput").value;""!==d.trim()&&t.changeTitle(d),c(t),e.setProjTitleActive()};var v=()=>({title:"",description:"",dueDate:"",priority:"",priorityVal:0,complete:!1,order:0});var f=()=>({itemDataList:[],complete:!1,numComplete:0,projectTitle:"",createCount:0,sortType:"",sortDirection:!1});var y=()=>({projectDataList:[],homeIndex:-1,selectedIndex:-1,itemIndex:-1,addItemStatus:!1,updateItemStatus:!1,projTitleStatus:!1});const T=e=>{let t=v();return t.title=e.getTitle(),t.description=e.getDescription(),t.dueDate=e.getDueDate(),t.priority=e.getPriority(),t.complete=e.isComplete(),t.order=e.getOrder(),t},E=e=>{let t=f();for(let d=0;d<e.getNumItems();d++){let l=e.getItem(d);t.itemDataList.push(T(l))}return t.complete=e.isComplete(),t.numComplete=e.getNumComplete(),t.projectTitle=e.getTitle(),t.createCount=e.getCreateCount(),t.sortType=e.getSortType(),t.sortDirection=e.getSortDirection(),t};var x=e=>{localStorage.setItem("userData",JSON.stringify((e=>{let t=y();for(let d=0;d<e.getNumProjects();d++){let l=e.getProject(d);t.projectDataList.push(E(l))}return t.homeIndex=e.getHomeIndex(),t.selectedIndex=e.getSelectIndex(),t.itemIndex=e.getItemIndex(),t.addItemStatus=e.getAddItem(),t.updateItemStatus=e.getUpdateItem(),t.projTitleStatus=e.projTitleActive(),t})(e)))};var j=e=>{document.addEventListener("click",(function(t){if(e.projTitleActive()&&!t.target.matches("#projTitleInput")&&I(e),t.target.matches(".openAddItem")&&(e.setAddItem(),s()),t.target.matches(".itemCheck")){let d=t.target.id;d=parseInt(d.slice(5));let l=e.getSelection();t.target.checked?l.completeItem(d):l.incompleteItem(d),c(e.getSelection())}if(t.target.matches(".delete")){let d=t.target.id;d=parseInt(d.slice(6)),e.removeItem(d),c(e.getSelection())}if(t.target.matches(".itemTitle")){let d=t.target.id;d=parseInt(d.slice(4)),e.selectItem(d),e.setUpdateItem(),s(e.getItemSelection())}if(t.target.matches("#addItem"))if(e.getAddItem())C(e),e.setAddItem(),c(e.getSelection());else{let t=e.getItemSelection();h(t),e.setUpdateItem(),c(e.getSelection())}if((t.target.matches(".modal")||t.target.matches(".closeItemModal"))&&(g(),e.getAddItem()?e.setAddItem():e.setUpdateItem(),p()),t.target.matches("#projTitle")){let d=t.target.textContent;"New Project"===d&&(d="");let l=document.getElementsByClassName("Content")[0];l.removeChild(t.target);let n=document.createElement("input");n.type="text",n.id="projTitleInput",n.value=d;let i=document.getElementById("sortDiv"),o=document.getElementsByClassName("itemsDiv")[0],r=document.getElementById("removeAllComplete");for(;l.firstChild;)l.removeChild(l.lastChild);l.appendChild(n),null!==i&&l.appendChild(i),l.appendChild(o),null!==r&&(l.appendChild(document.createElement("br")),l.appendChild(r)),n.focus(),e.setProjTitleActive()}if(t.target.matches(".projTitle")){let d=parseInt(t.target.id.slice(7));e.selectProject(d),c(e.getSelection())}if(t.target.matches(".openAddProject")){let t=e.addProject();e.selectProject(e.getNumProjects()-1),c(t)}if(t.target.matches("#NavProjects")&&m(e),t.target.matches("#NavHome")){e.selectProject(e.getHomeIndex());let t=e.getSelection();c(t)}t.target.matches("#sortUp")&&("sortBtnOff"===t.target.classList[1]?e.getSelection().sortBy("priority",!1):e.getSelection().sortBy("creationOrder"),c(e.getSelection())),t.target.matches("#sortDown")&&("sortBtnOff"===t.target.classList[1]?e.getSelection().sortBy("priority",!0):e.getSelection().sortBy("creationOrder"),c(e.getSelection())),t.target.matches("#removeAllComplete")&&(e.getSelection().removeAllComplete(),c(e.getSelection())),x(e)}),!1),document.addEventListener("keypress",(function(t){if("Enter"===t.key)if(e.getAddItem())C(e),e.setAddItem(),c(e.getSelection());else if(e.getUpdateItem()){let t=e.getItemSelection();h(t),e.setUpdateItem(),c(e.getSelection())}else e.projTitleActive()&&I(e);x(e)}),!1)};let D=(()=>{let e=JSON.parse(localStorage.getItem("userData"));return null!==e?(e=>{let t=o();for(let d=0;d<e.projectDataList.length;d++){let l=a(e.projectDataList[d]);t.addExistingProject(l)}return t.setHomeIndex(e.homeIndex),t.selectProject(e.selectedIndex),t.selectItem(e.itemIndex),e.addItemStatus&&t.setAddItem(),e.updateItemStatus&&t.setUpdateItem(),e.projTitleStatus&&t.setProjTitleActive(),t})(e):null})();null===D&&(D=o(),D.addProject()),l();let S=D.getProject(D.getHomeIndex());c(S),j(D)}]);